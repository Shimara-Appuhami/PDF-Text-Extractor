/* Root theme tokens (modern palette) */
:root {
  /* Primary (indigo / blue mix) */
  --color-primary: #4f46e5;
  --color-primary-accent: #6366f1;
  --color-primary-hover: #4338ca;
  --color-primary-soft: #eef2ff;
  --color-primary-soft-border: #c7d2fe;

  /* Secondary (cyan) */
  --color-secondary: #0891b2;
  --color-secondary-soft: #ecfeff;

  /* Danger */
  --color-danger: #dc2626;
  --color-danger-bg: #fee2e2;

  /* Neutral surfaces */
  --color-text: #1e293b;
  --color-text-soft: #475569;
  --color-border: #e2e8f0;
  --color-bg: #f8fafc;
  --color-panel: #ffffff;
  --color-panel-alt: #f1f5f9;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.08);
  --shadow-md: 0 4px 12px rgba(0,0,0,.08);

  /* Highlights */
  --color-highlight: #fde68a;
  --color-highlight-text: #1e293b;

  /* Gradients */
  --grad-accent: linear-gradient(135deg,#6366f1 0%, #4f46e5 40%, #0ea5e9 100%);
  --grad-surface: radial-gradient(circle at 30% 20%, #eef2ff 0%, #f8fafc 70%);

  /* Transitions */
  --transition: 160ms cubic-bezier(.4,0,.2,1);
}

.pdf-extractor.dark {
  --color-text: #f1f5f9;
  --color-text-soft: #94a3b8;
  --color-border: #334155;
  --color-bg: #0f172a;
  --color-panel: #1e293b;
  --color-panel-alt: #0f1e33;
  --color-primary-soft: #312e81;
  --color-primary-soft-border: #4338ca;
  --color-highlight: #facc15;
  --color-highlight-text: #1e293b;
  --grad-accent: linear-gradient(135deg,#6366f1 0%, #4338ca 45%, #0891b2 100%);
  --grad-surface: radial-gradient(circle at 30% 20%, #1e293b 0%, #0f172a 70%);
  --shadow-sm: 0 1px 2px rgba(0,0,0,.4);
  --shadow-md: 0 4px 18px rgba(0,0,0,.45);
}

/* Theme variants (override primary hues) */
.pdf-extractor.theme-indigo { --color-primary:#4f46e5; --color-primary-accent:#6366f1; --color-primary-hover:#4338ca; --color-primary-soft:#eef2ff; --color-primary-soft-border:#c7d2fe; }
.pdf-extractor.theme-teal { --color-primary:#0d9488; --color-primary-accent:#14b8a6; --color-primary-hover:#0f766e; --color-primary-soft:#f0fdfa; --color-primary-soft-border:#99f6e4; --grad-accent:linear-gradient(135deg,#14b8a6 0%, #0d9488 45%, #0ea5e9 100%); }
.pdf-extractor.theme-amber { --color-primary:#d97706; --color-primary-accent:#f59e0b; --color-primary-hover:#b45309; --color-primary-soft:#fffbeb; --color-primary-soft-border:#fde68a; --grad-accent:linear-gradient(135deg,#f59e0b 0%, #d97706 45%, #f87171 100%); }
.pdf-extractor.theme-rose { --color-primary:#e11d48; --color-primary-accent:#fb7185; --color-primary-hover:#be123c; --color-primary-soft:#fff1f2; --color-primary-soft-border:#fecdd3; --grad-accent:linear-gradient(135deg,#fb7185 0%, #e11d48 40%, #6366f1 100%); }

/* Palette picker */
.palette-picker { display:flex; gap:.4rem; margin-left:1rem; }
.palette-picker .swatch { width:28px; height:28px; border-radius:50%; border:2px solid transparent; padding:0; cursor:pointer; position:relative; display:inline-flex; align-items:center; justify-content:center; box-shadow: var(--shadow-sm); transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition); }
.palette-picker .swatch:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
.palette-picker .swatch.active { border-color: var(--color-text); box-shadow: 0 0 0 3px var(--color-panel) inset, 0 0 0 2px var(--color-text); }
.palette-picker .swatch.indigo { background:linear-gradient(140deg,#6366f1,#4f46e5); }
.palette-picker .swatch.teal { background:linear-gradient(140deg,#14b8a6,#0d9488); }
.palette-picker .swatch.amber { background:linear-gradient(140deg,#fbbf24,#d97706); }
.palette-picker .swatch.rose { background:linear-gradient(140deg,#fb7185,#e11d48); }
.visually-hidden { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* Basic layout */
.App {
  max-width: 1250px;
  margin: 0 auto;
  padding: 2.25rem 1.75rem 4rem;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
  color: var(--color-text);
  background: var(--color-bg);
  transition: background var(--transition), color var(--transition);
}

.pdf-extractor h1 { margin: 0; font-size: clamp(1.9rem, 2.5vw, 2.4rem); letter-spacing: -.5px; background: var(--grad-accent); -webkit-background-clip: text; background-clip: text; color: transparent; }

/* App shell */
.app-bar { height:56px; display:flex; align-items:center; justify-content:space-between; padding:0 1rem; background: var(--grad-accent); color:#fff; border-radius:14px; box-shadow: var(--shadow-md); margin-bottom:1rem; position:sticky; top:0; z-index:50; }
.app-bar .brand { display:flex; align-items:center; gap:.6rem; font-weight:600; font-size:1rem; letter-spacing:.5px; }
.brand-logo { font-size:1.25rem; }
.app-bar-actions { display:flex; align-items:center; gap:.65rem; }

.app-shell { display:flex; min-height:calc(100vh - 90px); gap:1rem; }
.sidebar { width:320px; flex-shrink:0; display:flex; flex-direction:column; gap:1rem; transition: width var(--transition), transform var(--transition), opacity var(--transition); }
.sidebar.collapsed { width:0; transform:translateX(-12px); opacity:0; pointer-events:none; }
.content { flex:1; display:flex; flex-direction:column; gap:1rem; }

@media (max-width: 920px) {
  .app-shell { flex-direction:column; }
  .sidebar { width:100%; }
  .sidebar.collapsed { width:100%; transform:none; opacity:1; pointer-events:auto; }
}

/* Mobile overlay (below 780px JS toggles .mobile class) */
@media (max-width: 780px) {
  .pdf-extractor.mobile .app-shell { position:relative; }
  .pdf-extractor.mobile .sidebar { position:fixed; top:70px; left:0; bottom:0; width: clamp(260px, 80vw, 340px); background: var(--color-panel); border-right:1px solid var(--color-border); padding-right:.5rem; overflow-y:auto; box-shadow: 0 8px 32px rgba(0,0,0,.18); backdrop-filter: blur(10px) saturate(160%); z-index:60; opacity:1; transform:translateX(-110%); transition: transform var(--transition), opacity var(--transition); }
  .pdf-extractor.mobile .sidebar.overlay { transform:translateX(0); }
  .pdf-extractor.mobile .sidebar.collapsed.overlay { transform:translateX(-110%); }
  .pdf-extractor.mobile .content { padding-bottom:5.5rem; }
  .fab-bar { position:fixed; bottom:.85rem; left:50%; transform:translateX(-50%); display:flex; gap:.55rem; background:rgba(255,255,255,.75); backdrop-filter:blur(14px) saturate(150%); border:1px solid var(--color-border); padding:.55rem .7rem; border-radius:50px; box-shadow:0 4px 22px -4px rgba(0,0,0,.25); z-index:70; }
  .dark .fab-bar { background:rgba(30,41,59,.7); }
  .fab-bar .icon-btn { width:40px; height:40px; background:var(--color-primary); border:1px solid var(--color-primary-accent); }
  .fab-bar .icon-btn:hover { background:var(--color-primary-hover); }
  .drop-zone { padding:.9rem .75rem; }
  .extracted-text { font-size:.9rem; }
}

.icon-btn { background:rgba(255,255,255,.25); border:1px solid rgba(255,255,255,.35); color:#fff; width:36px; height:36px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; backdrop-filter: blur(5px); transition: background var(--transition), transform var(--transition), border-color var(--transition); }
.icon-btn:hover { background:rgba(255,255,255,.4); transform:translateY(-2px); }
.icon-btn:active { transform:translateY(0); }
.icon-btn:focus-visible { outline:2px solid #fff; outline-offset:2px; }

.controls {
  display: flex;
  flex-wrap: wrap;
  gap: .75rem;
  align-items: center;
  margin-bottom: 1rem;
}

.controls input[type=file] {
  max-width: 260px;
}

button, .btn, .btn-outline, .btn-ghost {
  background: var(--color-primary);
  background-image: linear-gradient(145deg,var(--color-primary-accent), var(--color-primary));
  color: #fff;
  border: 1px solid var(--color-primary-accent);
  padding: .55rem .95rem;
  border-radius: 8px;
  cursor: pointer;
  font-size: .85rem;
  font-weight: 500;
  display: inline-flex;
  gap: .5rem;
  align-items: center;
  line-height: 1.1;
  position: relative;
  box-shadow: var(--shadow-sm);
  transition: background var(--transition), transform var(--transition), box-shadow var(--transition), border-color var(--transition);
}
button:hover:not(:disabled), .btn:hover:not(:disabled), .btn-outline:hover:not(:disabled), .btn-ghost:hover:not(:disabled) { background: var(--color-primary-hover); transform: translateY(-2px); box-shadow: var(--shadow-md); }
button:active:not(:disabled), .btn:active:not(:disabled), .btn-outline:active:not(:disabled), .btn-ghost:active:not(:disabled) { transform: translateY(0); }
button:disabled, .btn:disabled, .btn-outline:disabled, .btn-ghost:disabled { opacity:.55; cursor: not-allowed; }
button:focus-visible, .btn:focus-visible, .btn-outline:focus-visible, .btn-ghost:focus-visible { outline: 2px solid var(--color-secondary); outline-offset: 2px; }

.btn-outline { background:transparent; color:var(--color-primary); border:1px solid var(--color-primary-accent); box-shadow:none; }
.btn-outline:hover { background:var(--color-primary-soft); }
.btn-ghost { background:transparent; color:var(--color-text-soft); border:1px solid transparent; box-shadow:none; }
.btn-ghost:hover { background:var(--color-panel-alt); color:var(--color-text); }

.keywords { margin-bottom: 1rem; }
.keywords input { width:100%; max-width:480px; padding:.5rem; }

.status { font-style: italic; color: var(--color-text-soft); }
.error { color: var(--color-danger); font-weight: 500; background: var(--color-danger-bg); padding:.4rem .6rem; border-radius:6px; }

.extracted-text {
  border: 1px solid var(--color-border);
  background: var(--color-panel);
  background-image: var(--grad-surface);
  padding: 1.05rem 1.1rem 1.25rem;
  border-radius: 14px;
  max-height: 62vh;
  overflow: auto;
  line-height: 1.5;
  white-space: pre-wrap;
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
  font-size: .85rem;
  box-shadow: var(--shadow-sm);
  backdrop-filter: saturate(140%) blur(2px);
  transition: border-color var(--transition), background-color var(--transition), box-shadow var(--transition);
}


.highlight { background: var(--color-highlight); padding: 0 .2em; border-radius: 4px; box-decoration-break: clone; color: var(--color-highlight-text); }

.layout { display: grid; grid-template-columns: 320px 1fr; gap: 1.25rem; align-items: start; }
@media (max-width: 900px) { .layout { grid-template-columns: 1fr; } }

.pe-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; }
.pe-header h1 { margin:0; }

.drop-zone { border:1.5px dashed var(--color-primary-accent); padding:1.15rem .9rem; text-align:center; border-radius:16px; background: var(--color-primary-soft); transition: background var(--transition), border-color var(--transition), transform var(--transition); position:relative; overflow:hidden; }
.drop-zone:before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(99,102,241,0.15),rgba(14,165,233,0.08)); opacity:0; transition:opacity var(--transition); }
.drop-zone.over { background: var(--color-primary-soft); border-color: var(--color-primary-hover); transform: translateY(-2px); }
.drop-zone.over:before { opacity:1; }
.drop-zone input[type=file]{ margin-top:.5rem; width:100%; }

.left-pane { display:flex; flex-direction:column; gap:1rem; }
.right-pane { min-height:60vh; }

.placeholder { opacity:.75; font-style:italic; padding:2rem; text-align:center; border:1px dashed var(--color-border); border-radius:14px; background: var(--color-panel-alt); }

.progress-wrapper { margin-top:.5rem; }
.progress-bar { height:9px; background: var(--color-panel-alt); border-radius:5px; overflow:hidden; border:1px solid var(--color-border); position:relative; }
.progress-bar .fill { height:100%; background: var(--grad-accent); transition:width .35s ease; box-shadow: 0 0 0 1px rgba(255,255,255,.3) inset; }
.progress-text { font-size:.7rem; display:block; margin-top:.35rem; color: var(--color-text-soft); font-weight:500; letter-spacing:.5px; text-transform:uppercase; }

.stats ul, .highlight-counts { list-style:none; padding:0; margin:.4rem 0 0; font-size:.85rem; display:flex; flex-wrap:wrap; gap:.5rem .75rem; }
.stats li, .highlight-counts li { background: var(--color-primary-soft); border:1px solid var(--color-primary-soft-border); padding:.35rem .65rem; border-radius:6px; font-weight:500; color: var(--color-text-soft); backdrop-filter: blur(3px); }

.keywords input { margin-top:.25rem; }

.toggle { display:flex; gap:.4rem; align-items:center; font-size:.8rem; cursor:pointer; user-select:none; }

.file-meta { font-size:.75rem; background: var(--color-panel); border:1px solid var(--color-border); padding:.75rem .85rem; border-radius:12px; line-height:1.4; box-shadow:var(--shadow-sm); }
.file-meta h3 { margin:.1rem 0 .4rem; font-size:.7rem; letter-spacing:.1em; text-transform:uppercase; opacity:.7; }
.file-meta ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.25rem; }
.file-meta li strong { font-weight:600; }

.extracted-text::-webkit-scrollbar { width:10px; }
.extracted-text::-webkit-scrollbar-track { background:transparent; }
.extracted-text::-webkit-scrollbar-thumb { background:var(--color-primary-soft-border); border:2px solid var(--color-panel); border-radius:20px; }
.extracted-text::-webkit-scrollbar-thumb:hover { background:var(--color-primary-accent); }

@media (prefers-reduced-motion: reduce) {
  * { transition:none !important; animation:none !important; }
}

